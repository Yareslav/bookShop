{"ast":null,"code":"var _jsxFileName = \"C:\\\\My\\\\Programesoft\\\\Javascript\\\\bookshop\\\\src\\\\globalComponents\\\\bookComponents\\\\Hearth.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState, useMemo, useContext } from \"react\";\nimport NotSelected from \"../../assets/images/favourite.png\";\nimport Selected from \"../../assets/images/favouriteActive.png\";\nimport { FavoriteBooksContext } from \"../../screens/Cabinet/index\";\nimport compare from \"../../functions/compare\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Hearth = _ref => {\n  _s();\n\n  let {\n    liked,\n    setLiked,\n    data\n  } = _ref;\n  const setFavoriteBooks = useContext(FavoriteBooksContext);\n\n  const clickHandler = () => {\n    const favoriteBooks = JSON.parse(localStorage.getItem(\"favoriteBooks\"));\n    if (!liked) favoriteBooks.push(data);else {\n      let index;\n      favoriteBooks.forEach((elem, ind) => {\n        if (compare(elem, data)) index = ind;\n      });\n      favoriteBooks.splice(index, 1);\n      console.log(setFavoriteBooks);\n      if (setFavoriteBooks) setFavoriteBooks([...favoriteBooks]);\n    }\n    setLiked(curr => !curr);\n    localStorage.setItem(\"favoriteBooks\", JSON.stringify(favoriteBooks));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"img\", {\n    className: \"book__hearth\",\n    src: liked ? Selected : NotSelected,\n    onClick: clickHandler\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Hearth, \"Cu6IlZu32tej/tkMfRbxsgD0KoM=\");\n\n_c = Hearth;\nexport default Hearth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Hearth\");","map":{"version":3,"sources":["C:/My/Programesoft/Javascript/bookshop/src/globalComponents/bookComponents/Hearth.js"],"names":["React","useCallback","useEffect","useState","useMemo","useContext","NotSelected","Selected","FavoriteBooksContext","compare","Hearth","liked","setLiked","data","setFavoriteBooks","clickHandler","favoriteBooks","JSON","parse","localStorage","getItem","push","index","forEach","elem","ind","splice","console","log","curr","setItem","stringify"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,QAAxC,EAAkDC,OAAlD,EAA0DC,UAA1D,QAA4E,OAA5E;AACA,OAAOC,WAAP,MAAwB,mCAAxB;AACA,OAAOC,QAAP,MAAqB,yCAArB;AACA,SAAQC,oBAAR,QAAmC,6BAAnC;AACA,OAAOC,OAAP,MAAoB,yBAApB;;;AACA,MAAMC,MAAM,GAAG,QAA+B;AAAA;;AAAA,MAA9B;AAAEC,IAAAA,KAAF;AAASC,IAAAA,QAAT;AAAmBC,IAAAA;AAAnB,GAA8B;AAC5C,QAAMC,gBAAgB,GAACT,UAAU,CAACG,oBAAD,CAAjC;;AACA,QAAMO,YAAY,GAAG,MAAM;AACzB,UAAMC,aAAa,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAX,CAAtB;AACA,QAAI,CAACT,KAAL,EAAYK,aAAa,CAACK,IAAd,CAAmBR,IAAnB,EAAZ,KACK;AACH,UAAIS,KAAJ;AACAN,MAAAA,aAAa,CAACO,OAAd,CAAsB,CAACC,IAAD,EAAOC,GAAP,KAAe;AACnC,YAAIhB,OAAO,CAACe,IAAD,EAAOX,IAAP,CAAX,EAAyBS,KAAK,GAAGG,GAAR;AAC1B,OAFD;AAGAT,MAAAA,aAAa,CAACU,MAAd,CAAqBJ,KAArB,EAA4B,CAA5B;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAYd,gBAAZ;AACA,UAAIA,gBAAJ,EAAsBA,gBAAgB,CAAC,CAAC,GAAGE,aAAJ,CAAD,CAAhB;AACvB;AACDJ,IAAAA,QAAQ,CAAEiB,IAAD,IAAU,CAACA,IAAZ,CAAR;AACAV,IAAAA,YAAY,CAACW,OAAb,CAAqB,eAArB,EAAsCb,IAAI,CAACc,SAAL,CAAef,aAAf,CAAtC;AACD,GAdD;;AAeA,sBACE;AACE,IAAA,SAAS,EAAC,cADZ;AAEE,IAAA,GAAG,EAAEL,KAAK,GAAGJ,QAAH,GAAcD,WAF1B;AAGE,IAAA,OAAO,EAAES;AAHX;AAAA;AAAA;AAAA;AAAA,UADF;AAOD,CAxBD;;GAAML,M;;KAAAA,M;AAyBN,eAAeA,MAAf","sourcesContent":["import React, { useCallback, useEffect, useState, useMemo,useContext } from \"react\";\r\nimport NotSelected from \"../../assets/images/favourite.png\";\r\nimport Selected from \"../../assets/images/favouriteActive.png\";\r\nimport {FavoriteBooksContext} from \"../../screens/Cabinet/index\";\r\nimport compare from \"../../functions/compare\";\r\nconst Hearth = ({ liked, setLiked, data }) => {\r\n  const setFavoriteBooks=useContext(FavoriteBooksContext);\r\n  const clickHandler = () => {\r\n    const favoriteBooks = JSON.parse(localStorage.getItem(\"favoriteBooks\"));\r\n    if (!liked) favoriteBooks.push(data);\r\n    else {\r\n      let index;\r\n      favoriteBooks.forEach((elem, ind) => {\r\n        if (compare(elem, data)) index = ind;\r\n      });\r\n      favoriteBooks.splice(index, 1);\r\n      console.log(setFavoriteBooks);\r\n      if (setFavoriteBooks) setFavoriteBooks([...favoriteBooks]);\r\n    }\r\n    setLiked((curr) => !curr);\r\n    localStorage.setItem(\"favoriteBooks\", JSON.stringify(favoriteBooks));\r\n  };\r\n  return (\r\n    <img\r\n      className=\"book__hearth\"\r\n      src={liked ? Selected : NotSelected}\r\n      onClick={clickHandler}\r\n    />\r\n  );\r\n};\r\nexport default Hearth;"]},"metadata":{},"sourceType":"module"}