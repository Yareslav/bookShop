{"ast":null,"code":"import starFilled from \"../assets/images/starFilled.png\";\nimport starHalfFilled from \"../assets/images/starHalfFilled.png\";\nimport starEmpty from \"../assets/images/starEmpty.png\";\nexport default (obj => {\n  const {\n    accessInfo,\n    volumeInfo,\n    saleInfo\n  } = obj;\n  const canBeBought = saleInfo.saleability == \"FOR_SALE\";\n  const prices = canBeBought ? {\n    listPrice: saleInfo.listPrice.amount + \" \" + saleInfo.listPrice.currencyCode,\n    retailPrice: saleInfo.retailPrice.amount + saleInfo.retailPrice.currencyCode\n  } : {};\n\n  function makeString(mass) {\n    return mass.reduce((curr, next) => curr + \" \" + next);\n  }\n\n  function getStars(amount) {\n    const mass = [],\n          roundNumber = Math.floor(amount);\n\n    for (let i = 0; i < roundNumber; i++) {\n      mass.push(starFilled);\n    }\n\n    if (amount != roundNumber) mass.push(starHalfFilled);\n\n    for (let i = 0; i < 5 - mass.length; i++) {\n      mass.push(starEmpty);\n    }\n\n    return mass;\n  }\n\n  try {\n    return {\n      title: volumeInfo.title,\n      image: volumeInfo.imageLinks.thumbnail,\n      epub: accessInfo.epub.isAvailable,\n      pdf: accessInfo.pdf.isAvailable,\n      type: saleInfo.isEbook ? \"Electronic\" : \"Non electronic\",\n      canBeBought: canBeBought,\n      ...prices,\n      country: saleInfo.country,\n      authors: makeString(volumeInfo.authors),\n      ratingStarsArray: getStars(volumeInfo.averageRating),\n      categories: makeString(volumeInfo.categories),\n      description: volumeInfo.description,\n      language: volumeInfo.language,\n      pageCount: volumeInfo.pageCount,\n      subtitle: volumeInfo.subtitle,\n      publishedDate: volumeInfo.publishedDate,\n      link: canBeBought ? saleInfo.buyLink : volumeInfo.previewLink\n    };\n  } catch (error) {\n    console.log(error);\n  }\n});","map":{"version":3,"sources":["C:/My/Programesoft/Javascript/bookshop/src/functions/formater.js"],"names":["starFilled","starHalfFilled","starEmpty","obj","accessInfo","volumeInfo","saleInfo","canBeBought","saleability","prices","listPrice","amount","currencyCode","retailPrice","makeString","mass","reduce","curr","next","getStars","roundNumber","Math","floor","i","push","length","title","image","imageLinks","thumbnail","epub","isAvailable","pdf","type","isEbook","country","authors","ratingStarsArray","averageRating","categories","description","language","pageCount","subtitle","publishedDate","link","buyLink","previewLink","error","console","log"],"mappings":"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","sourcesContent":["import starFilled from \"../assets/images/starFilled.png\";\r\nimport starHalfFilled from \"../assets/images/starHalfFilled.png\";\r\nimport starEmpty from \"../assets/images/starEmpty.png\"\r\nexport default (obj)=>{\r\n\tconst {accessInfo,volumeInfo,saleInfo}=obj;\r\n\tconst canBeBought=saleInfo.saleability==\"FOR_SALE\";\r\n\tconst prices=canBeBought ? {\r\n\t\tlistPrice:saleInfo.listPrice.amount + \" \"+ saleInfo.listPrice.currencyCode,\r\n\t\tretailPrice:saleInfo.retailPrice.amount+saleInfo.retailPrice.currencyCode\r\n\t} : {};\r\n\tfunction makeString(mass) {\r\n\t\treturn\tmass.reduce((curr,next)=>curr+\" \"+next)\r\n\t}\r\n\tfunction getStars(amount) {\r\n\t\tconst mass=[] , roundNumber=Math.floor(amount);\r\n\t\tfor (let i=0;i<roundNumber;i++) {\r\n\t\t\tmass.push(starFilled)\r\n\t\t}\r\n\t\tif (amount!=roundNumber) mass.push(starHalfFilled);\r\n\t\tfor (let i=0;i<5-mass.length;i++) {\r\n\t\t\tmass.push(starEmpty)\r\n\t\t}\r\n\t\treturn mass;\r\n\t}\r\n\ttry {\r\n\t\treturn {\r\n\t\t\ttitle:volumeInfo.title,\r\n\t\t\timage:volumeInfo.imageLinks.thumbnail,\r\n\t\t\tepub:accessInfo.epub.isAvailable,\r\n\t\t\tpdf:accessInfo.pdf.isAvailable,\r\n\t\t\ttype:saleInfo.isEbook ? \"Electronic\" : \"Non electronic\",\r\n\t\t\tcanBeBought:canBeBought,\r\n\t\t\t...prices,\r\n\t\t\tcountry:saleInfo.country,\r\n\t\t\tauthors:makeString(volumeInfo.authors),\r\n\t\t\tratingStarsArray:getStars(volumeInfo.averageRating),\r\n\t\t\tcategories:makeString(volumeInfo.categories),\r\n\t\t\tdescription:volumeInfo.description,\r\n\t\t\tlanguage:volumeInfo.language,\r\n\t\t\tpageCount:volumeInfo.pageCount,\r\n\t\t\tsubtitle:volumeInfo.subtitle,\r\n\t\t\tpublishedDate:volumeInfo.publishedDate,\r\n\t\t\tlink:canBeBought ? saleInfo.buyLink : volumeInfo.previewLink\r\n\t\t}\r\n\t}\r\n\tcatch (error){\r\n\t\tconsole.log(error);\r\n\t}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}