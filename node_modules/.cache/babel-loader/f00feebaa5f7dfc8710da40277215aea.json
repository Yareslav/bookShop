{"ast":null,"code":"function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar _windowMatchMedia;\n\nfunction _getWindowMatchMedia(ExecutionEnvironment) {\n  if (_windowMatchMedia === undefined) {\n    _windowMatchMedia = !!ExecutionEnvironment.canUseDOM && !!window && !!window.matchMedia && function (mediaQueryString) {\n      return window.matchMedia(mediaQueryString);\n    } || null;\n  }\n\n  return _windowMatchMedia;\n}\n\nfunction _filterObject(obj, predicate) {\n  return Object.keys(obj).filter(function (key) {\n    return predicate(obj[key], key);\n  }).reduce(function (result, key) {\n    result[key] = obj[key];\n    return result;\n  }, {});\n}\n\nfunction _removeMediaQueries(style) {\n  return Object.keys(style).reduce(function (styleWithoutMedia, key) {\n    if (key.indexOf('@media') !== 0) {\n      styleWithoutMedia[key] = style[key];\n    }\n\n    return styleWithoutMedia;\n  }, {});\n}\n\nfunction _topLevelRulesToCSS(_ref) {\n  var addCSS = _ref.addCSS,\n      appendImportantToEachValue = _ref.appendImportantToEachValue,\n      cssRuleSetToString = _ref.cssRuleSetToString,\n      hash = _ref.hash,\n      isNestedStyle = _ref.isNestedStyle,\n      style = _ref.style,\n      userAgent = _ref.userAgent;\n  var className = '';\n  Object.keys(style).filter(function (name) {\n    return name.indexOf('@media') === 0;\n  }).map(function (query) {\n    var topLevelRules = appendImportantToEachValue(_filterObject(style[query], function (value) {\n      return !isNestedStyle(value);\n    }));\n\n    if (!Object.keys(topLevelRules).length) {\n      return;\n    }\n\n    var ruleCSS = cssRuleSetToString('', topLevelRules, userAgent); // CSS classes cannot start with a number\n\n    var mediaQueryClassName = 'rmq-' + hash(query + ruleCSS);\n    var css = query + '{ .' + mediaQueryClassName + ruleCSS + '}';\n    addCSS(css);\n    className += (className ? ' ' : '') + mediaQueryClassName;\n  });\n  return className;\n}\n\nfunction _subscribeToMediaQuery(_ref2) {\n  var listener = _ref2.listener,\n      listenersByQuery = _ref2.listenersByQuery,\n      matchMedia = _ref2.matchMedia,\n      mediaQueryListsByQuery = _ref2.mediaQueryListsByQuery,\n      query = _ref2.query;\n  query = query.replace('@media ', '');\n  var mql = mediaQueryListsByQuery[query];\n\n  if (!mql && matchMedia) {\n    mediaQueryListsByQuery[query] = mql = matchMedia(query);\n  }\n\n  if (!listenersByQuery || !listenersByQuery[query]) {\n    mql.addListener(listener);\n    listenersByQuery[query] = {\n      remove: function remove() {\n        mql.removeListener(listener);\n      }\n    };\n  }\n\n  return mql;\n}\n\nexport default function resolveMediaQueries(_ref3) {\n  var ExecutionEnvironment = _ref3.ExecutionEnvironment,\n      addCSS = _ref3.addCSS,\n      appendImportantToEachValue = _ref3.appendImportantToEachValue,\n      config = _ref3.config,\n      cssRuleSetToString = _ref3.cssRuleSetToString,\n      getComponentField = _ref3.getComponentField,\n      getGlobalState = _ref3.getGlobalState,\n      hash = _ref3.hash,\n      isNestedStyle = _ref3.isNestedStyle,\n      mergeStyles = _ref3.mergeStyles,\n      props = _ref3.props,\n      setState = _ref3.setState,\n      style = _ref3.style; // eslint-disable-line no-shadow\n\n  var newStyle = _removeMediaQueries(style);\n\n  var mediaQueryClassNames = _topLevelRulesToCSS({\n    addCSS: addCSS,\n    appendImportantToEachValue: appendImportantToEachValue,\n    cssRuleSetToString: cssRuleSetToString,\n    hash: hash,\n    isNestedStyle: isNestedStyle,\n    style: style,\n    userAgent: config.userAgent\n  });\n\n  var newProps = mediaQueryClassNames ? {\n    className: mediaQueryClassNames + (props.className ? ' ' + props.className : '')\n  } : null;\n\n  var matchMedia = config.matchMedia || _getWindowMatchMedia(ExecutionEnvironment);\n\n  if (!matchMedia) {\n    return {\n      props: newProps,\n      style: newStyle\n    };\n  }\n\n  var listenersByQuery = _objectSpread({}, getComponentField('_radiumMediaQueryListenersByQuery'));\n\n  var mediaQueryListsByQuery = getGlobalState('mediaQueryListsByQuery') || {};\n  Object.keys(style).filter(function (name) {\n    return name.indexOf('@media') === 0;\n  }).map(function (query) {\n    var nestedRules = _filterObject(style[query], isNestedStyle);\n\n    if (!Object.keys(nestedRules).length) {\n      return;\n    }\n\n    var mql = _subscribeToMediaQuery({\n      listener: function listener() {\n        return setState(query, mql.matches, '_all');\n      },\n      listenersByQuery: listenersByQuery,\n      matchMedia: matchMedia,\n      mediaQueryListsByQuery: mediaQueryListsByQuery,\n      query: query\n    }); // Apply media query states\n\n\n    if (mql.matches) {\n      newStyle = mergeStyles([newStyle, nestedRules]);\n    }\n  });\n  return {\n    componentFields: {\n      _radiumMediaQueryListenersByQuery: listenersByQuery\n    },\n    globalState: {\n      mediaQueryListsByQuery: mediaQueryListsByQuery\n    },\n    props: newProps,\n    style: newStyle\n  };\n}","map":{"version":3,"sources":["C:/My/Programesoft/Javascript/bookshop/node_modules/radium/es/plugins/resolve-media-queries-plugin.js"],"names":["_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","_windowMatchMedia","_getWindowMatchMedia","ExecutionEnvironment","undefined","canUseDOM","window","matchMedia","mediaQueryString","_filterObject","predicate","reduce","result","_removeMediaQueries","style","styleWithoutMedia","indexOf","_topLevelRulesToCSS","_ref","addCSS","appendImportantToEachValue","cssRuleSetToString","hash","isNestedStyle","userAgent","className","name","map","query","topLevelRules","ruleCSS","mediaQueryClassName","css","_subscribeToMediaQuery","_ref2","listener","listenersByQuery","mediaQueryListsByQuery","replace","mql","addListener","remove","removeListener","resolveMediaQueries","_ref3","config","getComponentField","getGlobalState","mergeStyles","props","setState","newStyle","mediaQueryClassNames","newProps","nestedRules","matches","componentFields","_radiumMediaQueryListenersByQuery","globalState"],"mappings":"AAAA,SAASA,aAAT,CAAuBC,MAAvB,EAA+B;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAT,IAAgB,IAAhB,GAAuBC,SAAS,CAACD,CAAD,CAAhC,GAAsC,EAAnD;AAAuD,QAAII,OAAO,GAAGC,MAAM,CAACC,IAAP,CAAYH,MAAZ,CAAd;;AAAmC,QAAI,OAAOE,MAAM,CAACE,qBAAd,KAAwC,UAA5C,EAAwD;AAAEH,MAAAA,OAAO,GAAGA,OAAO,CAACI,MAAR,CAAeH,MAAM,CAACE,qBAAP,CAA6BJ,MAA7B,EAAqCM,MAArC,CAA4C,UAAUC,GAAV,EAAe;AAAE,eAAOL,MAAM,CAACM,wBAAP,CAAgCR,MAAhC,EAAwCO,GAAxC,EAA6CE,UAApD;AAAiE,OAA9H,CAAf,CAAV;AAA4J;;AAACR,IAAAA,OAAO,CAACS,OAAR,CAAgB,UAAUC,GAAV,EAAe;AAAEC,MAAAA,eAAe,CAAChB,MAAD,EAASe,GAAT,EAAcX,MAAM,CAACW,GAAD,CAApB,CAAf;AAA4C,KAA7E;AAAiF;;AAAC,SAAOf,MAAP;AAAgB;;AAEje,SAASgB,eAAT,CAAyBC,GAAzB,EAA8BF,GAA9B,EAAmCG,KAAnC,EAA0C;AAAE,MAAIH,GAAG,IAAIE,GAAX,EAAgB;AAAEX,IAAAA,MAAM,CAACa,cAAP,CAAsBF,GAAtB,EAA2BF,GAA3B,EAAgC;AAAEG,MAAAA,KAAK,EAAEA,KAAT;AAAgBL,MAAAA,UAAU,EAAE,IAA5B;AAAkCO,MAAAA,YAAY,EAAE,IAAhD;AAAsDC,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAEJ,IAAAA,GAAG,CAACF,GAAD,CAAH,GAAWG,KAAX;AAAmB;;AAAC,SAAOD,GAAP;AAAa;;AAEjN,IAAIK,iBAAJ;;AAEA,SAASC,oBAAT,CAA8BC,oBAA9B,EAAoD;AAClD,MAAIF,iBAAiB,KAAKG,SAA1B,EAAqC;AACnCH,IAAAA,iBAAiB,GAAG,CAAC,CAACE,oBAAoB,CAACE,SAAvB,IAAoC,CAAC,CAACC,MAAtC,IAAgD,CAAC,CAACA,MAAM,CAACC,UAAzD,IAAuE,UAAUC,gBAAV,EAA4B;AACrH,aAAOF,MAAM,CAACC,UAAP,CAAkBC,gBAAlB,CAAP;AACD,KAFmB,IAEf,IAFL;AAGD;;AAED,SAAOP,iBAAP;AACD;;AAED,SAASQ,aAAT,CAAuBb,GAAvB,EAA4Bc,SAA5B,EAAuC;AACrC,SAAOzB,MAAM,CAACC,IAAP,CAAYU,GAAZ,EAAiBP,MAAjB,CAAwB,UAAUK,GAAV,EAAe;AAC5C,WAAOgB,SAAS,CAACd,GAAG,CAACF,GAAD,CAAJ,EAAWA,GAAX,CAAhB;AACD,GAFM,EAEJiB,MAFI,CAEG,UAAUC,MAAV,EAAkBlB,GAAlB,EAAuB;AAC/BkB,IAAAA,MAAM,CAAClB,GAAD,CAAN,GAAcE,GAAG,CAACF,GAAD,CAAjB;AACA,WAAOkB,MAAP;AACD,GALM,EAKJ,EALI,CAAP;AAMD;;AAED,SAASC,mBAAT,CAA6BC,KAA7B,EAAoC;AAClC,SAAO7B,MAAM,CAACC,IAAP,CAAY4B,KAAZ,EAAmBH,MAAnB,CAA0B,UAAUI,iBAAV,EAA6BrB,GAA7B,EAAkC;AACjE,QAAIA,GAAG,CAACsB,OAAJ,CAAY,QAAZ,MAA0B,CAA9B,EAAiC;AAC/BD,MAAAA,iBAAiB,CAACrB,GAAD,CAAjB,GAAyBoB,KAAK,CAACpB,GAAD,CAA9B;AACD;;AAED,WAAOqB,iBAAP;AACD,GANM,EAMJ,EANI,CAAP;AAOD;;AAED,SAASE,mBAAT,CAA6BC,IAA7B,EAAmC;AACjC,MAAIC,MAAM,GAAGD,IAAI,CAACC,MAAlB;AAAA,MACIC,0BAA0B,GAAGF,IAAI,CAACE,0BADtC;AAAA,MAEIC,kBAAkB,GAAGH,IAAI,CAACG,kBAF9B;AAAA,MAGIC,IAAI,GAAGJ,IAAI,CAACI,IAHhB;AAAA,MAIIC,aAAa,GAAGL,IAAI,CAACK,aAJzB;AAAA,MAKIT,KAAK,GAAGI,IAAI,CAACJ,KALjB;AAAA,MAMIU,SAAS,GAAGN,IAAI,CAACM,SANrB;AAOA,MAAIC,SAAS,GAAG,EAAhB;AACAxC,EAAAA,MAAM,CAACC,IAAP,CAAY4B,KAAZ,EAAmBzB,MAAnB,CAA0B,UAAUqC,IAAV,EAAgB;AACxC,WAAOA,IAAI,CAACV,OAAL,CAAa,QAAb,MAA2B,CAAlC;AACD,GAFD,EAEGW,GAFH,CAEO,UAAUC,KAAV,EAAiB;AACtB,QAAIC,aAAa,GAAGT,0BAA0B,CAACX,aAAa,CAACK,KAAK,CAACc,KAAD,CAAN,EAAe,UAAU/B,KAAV,EAAiB;AAC1F,aAAO,CAAC0B,aAAa,CAAC1B,KAAD,CAArB;AACD,KAF2D,CAAd,CAA9C;;AAIA,QAAI,CAACZ,MAAM,CAACC,IAAP,CAAY2C,aAAZ,EAA2B/C,MAAhC,EAAwC;AACtC;AACD;;AAED,QAAIgD,OAAO,GAAGT,kBAAkB,CAAC,EAAD,EAAKQ,aAAL,EAAoBL,SAApB,CAAhC,CATsB,CAS0C;;AAEhE,QAAIO,mBAAmB,GAAG,SAAST,IAAI,CAACM,KAAK,GAAGE,OAAT,CAAvC;AACA,QAAIE,GAAG,GAAGJ,KAAK,GAAG,KAAR,GAAgBG,mBAAhB,GAAsCD,OAAtC,GAAgD,GAA1D;AACAX,IAAAA,MAAM,CAACa,GAAD,CAAN;AACAP,IAAAA,SAAS,IAAI,CAACA,SAAS,GAAG,GAAH,GAAS,EAAnB,IAAyBM,mBAAtC;AACD,GAjBD;AAkBA,SAAON,SAAP;AACD;;AAED,SAASQ,sBAAT,CAAgCC,KAAhC,EAAuC;AACrC,MAAIC,QAAQ,GAAGD,KAAK,CAACC,QAArB;AAAA,MACIC,gBAAgB,GAAGF,KAAK,CAACE,gBAD7B;AAAA,MAEI7B,UAAU,GAAG2B,KAAK,CAAC3B,UAFvB;AAAA,MAGI8B,sBAAsB,GAAGH,KAAK,CAACG,sBAHnC;AAAA,MAIIT,KAAK,GAAGM,KAAK,CAACN,KAJlB;AAKAA,EAAAA,KAAK,GAAGA,KAAK,CAACU,OAAN,CAAc,SAAd,EAAyB,EAAzB,CAAR;AACA,MAAIC,GAAG,GAAGF,sBAAsB,CAACT,KAAD,CAAhC;;AAEA,MAAI,CAACW,GAAD,IAAQhC,UAAZ,EAAwB;AACtB8B,IAAAA,sBAAsB,CAACT,KAAD,CAAtB,GAAgCW,GAAG,GAAGhC,UAAU,CAACqB,KAAD,CAAhD;AACD;;AAED,MAAI,CAACQ,gBAAD,IAAqB,CAACA,gBAAgB,CAACR,KAAD,CAA1C,EAAmD;AACjDW,IAAAA,GAAG,CAACC,WAAJ,CAAgBL,QAAhB;AACAC,IAAAA,gBAAgB,CAACR,KAAD,CAAhB,GAA0B;AACxBa,MAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxBF,QAAAA,GAAG,CAACG,cAAJ,CAAmBP,QAAnB;AACD;AAHuB,KAA1B;AAKD;;AAED,SAAOI,GAAP;AACD;;AAED,eAAe,SAASI,mBAAT,CAA6BC,KAA7B,EAAoC;AACjD,MAAIzC,oBAAoB,GAAGyC,KAAK,CAACzC,oBAAjC;AAAA,MACIgB,MAAM,GAAGyB,KAAK,CAACzB,MADnB;AAAA,MAEIC,0BAA0B,GAAGwB,KAAK,CAACxB,0BAFvC;AAAA,MAGIyB,MAAM,GAAGD,KAAK,CAACC,MAHnB;AAAA,MAIIxB,kBAAkB,GAAGuB,KAAK,CAACvB,kBAJ/B;AAAA,MAKIyB,iBAAiB,GAAGF,KAAK,CAACE,iBAL9B;AAAA,MAMIC,cAAc,GAAGH,KAAK,CAACG,cAN3B;AAAA,MAOIzB,IAAI,GAAGsB,KAAK,CAACtB,IAPjB;AAAA,MAQIC,aAAa,GAAGqB,KAAK,CAACrB,aAR1B;AAAA,MASIyB,WAAW,GAAGJ,KAAK,CAACI,WATxB;AAAA,MAUIC,KAAK,GAAGL,KAAK,CAACK,KAVlB;AAAA,MAWIC,QAAQ,GAAGN,KAAK,CAACM,QAXrB;AAAA,MAYIpC,KAAK,GAAG8B,KAAK,CAAC9B,KAZlB,CADiD,CAejD;;AACA,MAAIqC,QAAQ,GAAGtC,mBAAmB,CAACC,KAAD,CAAlC;;AAEA,MAAIsC,oBAAoB,GAAGnC,mBAAmB,CAAC;AAC7CE,IAAAA,MAAM,EAAEA,MADqC;AAE7CC,IAAAA,0BAA0B,EAAEA,0BAFiB;AAG7CC,IAAAA,kBAAkB,EAAEA,kBAHyB;AAI7CC,IAAAA,IAAI,EAAEA,IAJuC;AAK7CC,IAAAA,aAAa,EAAEA,aAL8B;AAM7CT,IAAAA,KAAK,EAAEA,KANsC;AAO7CU,IAAAA,SAAS,EAAEqB,MAAM,CAACrB;AAP2B,GAAD,CAA9C;;AAUA,MAAI6B,QAAQ,GAAGD,oBAAoB,GAAG;AACpC3B,IAAAA,SAAS,EAAE2B,oBAAoB,IAAIH,KAAK,CAACxB,SAAN,GAAkB,MAAMwB,KAAK,CAACxB,SAA9B,GAA0C,EAA9C;AADK,GAAH,GAE/B,IAFJ;;AAIA,MAAIlB,UAAU,GAAGsC,MAAM,CAACtC,UAAP,IAAqBL,oBAAoB,CAACC,oBAAD,CAA1D;;AAEA,MAAI,CAACI,UAAL,EAAiB;AACf,WAAO;AACL0C,MAAAA,KAAK,EAAEI,QADF;AAELvC,MAAAA,KAAK,EAAEqC;AAFF,KAAP;AAID;;AAED,MAAIf,gBAAgB,GAAG1D,aAAa,CAAC,EAAD,EAAKoE,iBAAiB,CAAC,mCAAD,CAAtB,CAApC;;AAEA,MAAIT,sBAAsB,GAAGU,cAAc,CAAC,wBAAD,CAAd,IAA4C,EAAzE;AACA9D,EAAAA,MAAM,CAACC,IAAP,CAAY4B,KAAZ,EAAmBzB,MAAnB,CAA0B,UAAUqC,IAAV,EAAgB;AACxC,WAAOA,IAAI,CAACV,OAAL,CAAa,QAAb,MAA2B,CAAlC;AACD,GAFD,EAEGW,GAFH,CAEO,UAAUC,KAAV,EAAiB;AACtB,QAAI0B,WAAW,GAAG7C,aAAa,CAACK,KAAK,CAACc,KAAD,CAAN,EAAeL,aAAf,CAA/B;;AAEA,QAAI,CAACtC,MAAM,CAACC,IAAP,CAAYoE,WAAZ,EAAyBxE,MAA9B,EAAsC;AACpC;AACD;;AAED,QAAIyD,GAAG,GAAGN,sBAAsB,CAAC;AAC/BE,MAAAA,QAAQ,EAAE,SAASA,QAAT,GAAoB;AAC5B,eAAOe,QAAQ,CAACtB,KAAD,EAAQW,GAAG,CAACgB,OAAZ,EAAqB,MAArB,CAAf;AACD,OAH8B;AAI/BnB,MAAAA,gBAAgB,EAAEA,gBAJa;AAK/B7B,MAAAA,UAAU,EAAEA,UALmB;AAM/B8B,MAAAA,sBAAsB,EAAEA,sBANO;AAO/BT,MAAAA,KAAK,EAAEA;AAPwB,KAAD,CAAhC,CAPsB,CAelB;;;AAGJ,QAAIW,GAAG,CAACgB,OAAR,EAAiB;AACfJ,MAAAA,QAAQ,GAAGH,WAAW,CAAC,CAACG,QAAD,EAAWG,WAAX,CAAD,CAAtB;AACD;AACF,GAvBD;AAwBA,SAAO;AACLE,IAAAA,eAAe,EAAE;AACfC,MAAAA,iCAAiC,EAAErB;AADpB,KADZ;AAILsB,IAAAA,WAAW,EAAE;AACXrB,MAAAA,sBAAsB,EAAEA;AADb,KAJR;AAOLY,IAAAA,KAAK,EAAEI,QAPF;AAQLvC,IAAAA,KAAK,EAAEqC;AARF,GAAP;AAUD","sourcesContent":["function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _windowMatchMedia;\n\nfunction _getWindowMatchMedia(ExecutionEnvironment) {\n  if (_windowMatchMedia === undefined) {\n    _windowMatchMedia = !!ExecutionEnvironment.canUseDOM && !!window && !!window.matchMedia && function (mediaQueryString) {\n      return window.matchMedia(mediaQueryString);\n    } || null;\n  }\n\n  return _windowMatchMedia;\n}\n\nfunction _filterObject(obj, predicate) {\n  return Object.keys(obj).filter(function (key) {\n    return predicate(obj[key], key);\n  }).reduce(function (result, key) {\n    result[key] = obj[key];\n    return result;\n  }, {});\n}\n\nfunction _removeMediaQueries(style) {\n  return Object.keys(style).reduce(function (styleWithoutMedia, key) {\n    if (key.indexOf('@media') !== 0) {\n      styleWithoutMedia[key] = style[key];\n    }\n\n    return styleWithoutMedia;\n  }, {});\n}\n\nfunction _topLevelRulesToCSS(_ref) {\n  var addCSS = _ref.addCSS,\n      appendImportantToEachValue = _ref.appendImportantToEachValue,\n      cssRuleSetToString = _ref.cssRuleSetToString,\n      hash = _ref.hash,\n      isNestedStyle = _ref.isNestedStyle,\n      style = _ref.style,\n      userAgent = _ref.userAgent;\n  var className = '';\n  Object.keys(style).filter(function (name) {\n    return name.indexOf('@media') === 0;\n  }).map(function (query) {\n    var topLevelRules = appendImportantToEachValue(_filterObject(style[query], function (value) {\n      return !isNestedStyle(value);\n    }));\n\n    if (!Object.keys(topLevelRules).length) {\n      return;\n    }\n\n    var ruleCSS = cssRuleSetToString('', topLevelRules, userAgent); // CSS classes cannot start with a number\n\n    var mediaQueryClassName = 'rmq-' + hash(query + ruleCSS);\n    var css = query + '{ .' + mediaQueryClassName + ruleCSS + '}';\n    addCSS(css);\n    className += (className ? ' ' : '') + mediaQueryClassName;\n  });\n  return className;\n}\n\nfunction _subscribeToMediaQuery(_ref2) {\n  var listener = _ref2.listener,\n      listenersByQuery = _ref2.listenersByQuery,\n      matchMedia = _ref2.matchMedia,\n      mediaQueryListsByQuery = _ref2.mediaQueryListsByQuery,\n      query = _ref2.query;\n  query = query.replace('@media ', '');\n  var mql = mediaQueryListsByQuery[query];\n\n  if (!mql && matchMedia) {\n    mediaQueryListsByQuery[query] = mql = matchMedia(query);\n  }\n\n  if (!listenersByQuery || !listenersByQuery[query]) {\n    mql.addListener(listener);\n    listenersByQuery[query] = {\n      remove: function remove() {\n        mql.removeListener(listener);\n      }\n    };\n  }\n\n  return mql;\n}\n\nexport default function resolveMediaQueries(_ref3) {\n  var ExecutionEnvironment = _ref3.ExecutionEnvironment,\n      addCSS = _ref3.addCSS,\n      appendImportantToEachValue = _ref3.appendImportantToEachValue,\n      config = _ref3.config,\n      cssRuleSetToString = _ref3.cssRuleSetToString,\n      getComponentField = _ref3.getComponentField,\n      getGlobalState = _ref3.getGlobalState,\n      hash = _ref3.hash,\n      isNestedStyle = _ref3.isNestedStyle,\n      mergeStyles = _ref3.mergeStyles,\n      props = _ref3.props,\n      setState = _ref3.setState,\n      style = _ref3.style;\n\n  // eslint-disable-line no-shadow\n  var newStyle = _removeMediaQueries(style);\n\n  var mediaQueryClassNames = _topLevelRulesToCSS({\n    addCSS: addCSS,\n    appendImportantToEachValue: appendImportantToEachValue,\n    cssRuleSetToString: cssRuleSetToString,\n    hash: hash,\n    isNestedStyle: isNestedStyle,\n    style: style,\n    userAgent: config.userAgent\n  });\n\n  var newProps = mediaQueryClassNames ? {\n    className: mediaQueryClassNames + (props.className ? ' ' + props.className : '')\n  } : null;\n\n  var matchMedia = config.matchMedia || _getWindowMatchMedia(ExecutionEnvironment);\n\n  if (!matchMedia) {\n    return {\n      props: newProps,\n      style: newStyle\n    };\n  }\n\n  var listenersByQuery = _objectSpread({}, getComponentField('_radiumMediaQueryListenersByQuery'));\n\n  var mediaQueryListsByQuery = getGlobalState('mediaQueryListsByQuery') || {};\n  Object.keys(style).filter(function (name) {\n    return name.indexOf('@media') === 0;\n  }).map(function (query) {\n    var nestedRules = _filterObject(style[query], isNestedStyle);\n\n    if (!Object.keys(nestedRules).length) {\n      return;\n    }\n\n    var mql = _subscribeToMediaQuery({\n      listener: function listener() {\n        return setState(query, mql.matches, '_all');\n      },\n      listenersByQuery: listenersByQuery,\n      matchMedia: matchMedia,\n      mediaQueryListsByQuery: mediaQueryListsByQuery,\n      query: query\n    }); // Apply media query states\n\n\n    if (mql.matches) {\n      newStyle = mergeStyles([newStyle, nestedRules]);\n    }\n  });\n  return {\n    componentFields: {\n      _radiumMediaQueryListenersByQuery: listenersByQuery\n    },\n    globalState: {\n      mediaQueryListsByQuery: mediaQueryListsByQuery\n    },\n    props: newProps,\n    style: newStyle\n  };\n}"]},"metadata":{},"sourceType":"module"}