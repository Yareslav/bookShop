{"ast":null,"code":"function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n/**\n * Based on https://github.com/jsstyles/css-vendor, but without having to\n * convert between different cases all the time.\n *\n * \n */\n\n\nimport createStaticPrefixer from 'inline-style-prefixer/static/createPrefixer';\nimport createDynamicPrefixer from 'inline-style-prefixer/dynamic/createPrefixer';\nimport ExecutionEnvironment from 'exenv';\nimport staticData from './prefix-data/static';\nimport dynamicData from './prefix-data/dynamic';\nimport { camelCaseToDashCase } from './camel-case-props-to-dash-case';\nvar prefixAll = createStaticPrefixer(staticData);\nvar InlineStylePrefixer = createDynamicPrefixer(dynamicData, prefixAll);\n\nfunction transformValues(style) {\n  return Object.keys(style).reduce(function (newStyle, key) {\n    var value = style[key];\n\n    if (Array.isArray(value)) {\n      value = value.join(';' + key + ':');\n    } else if (value && _typeof(value) === 'object' && typeof value.toString === 'function') {\n      value = value.toString();\n    }\n\n    newStyle[key] = value;\n    return newStyle;\n  }, {});\n} // Flatten prefixed values that are arrays to strings.\n//\n// We get prefixed styles back in the form of:\n// - `display: \"flex\"` OR\n// - `display: \"-webkit-flex\"` OR\n// - `display: [/* ... */, \"-webkit-flex\", \"flex\"]\n//\n// The last form is problematic for eventual use in the browser and server\n// render. More confusingly, we have to do **different** things on the\n// browser and server (noted inline below).\n//\n// https://github.com/FormidableLabs/radium/issues/958\n\n\nfunction flattenStyleValues(style) {\n  return Object.keys(style).reduce(function (newStyle, key) {\n    var val = style[key];\n\n    if (Array.isArray(val)) {\n      if (ExecutionEnvironment.canUseDOM) {\n        // For the **browser**, when faced with multiple values, we just take\n        // the **last** one, which is the original passed in value before\n        // prefixing. This _should_ work, because `inline-style-prefixer`\n        // we're just passing through what would happen without ISP.\n        val = val[val.length - 1].toString();\n      } else {\n        // For the **server**, we just concatenate things together and convert\n        // the style object values into a hacked-up string of like `display:\n        // \"-webkit-flex;display:flex\"` that will SSR render correctly to like\n        // `\"display:-webkit-flex;display:flex\"` but would otherwise be\n        // totally invalid values.\n        // We convert keys to dash-case only for the serialize values and\n        // leave the real key camel-cased so it's as expected to React and\n        // other parts of the processing chain.\n        val = val.join(\";\".concat(camelCaseToDashCase(key), \":\"));\n      }\n    }\n\n    newStyle[key] = val;\n    return newStyle;\n  }, {});\n}\n\nvar _hasWarnedAboutUserAgent = false;\n\nvar _lastUserAgent;\n\nvar _cachedPrefixer;\n\nfunction getPrefixer(userAgent) {\n  var actualUserAgent = userAgent || global && global.navigator && global.navigator.userAgent;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (!actualUserAgent && !_hasWarnedAboutUserAgent) {\n      /* eslint-disable no-console */\n      console.warn('Radium: userAgent should be supplied for server-side rendering. See ' + 'https://github.com/FormidableLabs/radium/tree/master/docs/api#radium ' + 'for more information.');\n      /* eslint-enable no-console */\n\n      _hasWarnedAboutUserAgent = true;\n    }\n  }\n\n  if (process.env.NODE_ENV === 'test' || !_cachedPrefixer || actualUserAgent !== _lastUserAgent) {\n    if (actualUserAgent === 'all') {\n      _cachedPrefixer = {\n        prefix: prefixAll,\n        prefixedKeyframes: 'keyframes'\n      };\n    } else {\n      _cachedPrefixer = new InlineStylePrefixer({\n        userAgent: actualUserAgent\n      });\n    }\n\n    _lastUserAgent = actualUserAgent;\n  }\n\n  return _cachedPrefixer;\n}\n\nexport function getPrefixedKeyframes(userAgent) {\n  return getPrefixer(userAgent).prefixedKeyframes || 'keyframes';\n} // Returns a new style object with vendor prefixes added to property names and\n// values.\n\nexport function getPrefixedStyle(style, userAgent) {\n  var styleWithFallbacks = transformValues(style);\n  var prefixer = getPrefixer(userAgent);\n  var prefixedStyle = prefixer.prefix(styleWithFallbacks);\n  var flattenedStyle = flattenStyleValues(prefixedStyle);\n  return flattenedStyle;\n}","map":{"version":3,"sources":["C:/My/Programesoft/Javascript/bookshop/node_modules/radium/es/prefixer.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","createStaticPrefixer","createDynamicPrefixer","ExecutionEnvironment","staticData","dynamicData","camelCaseToDashCase","prefixAll","InlineStylePrefixer","transformValues","style","Object","keys","reduce","newStyle","key","value","Array","isArray","join","toString","flattenStyleValues","val","canUseDOM","length","concat","_hasWarnedAboutUserAgent","_lastUserAgent","_cachedPrefixer","getPrefixer","userAgent","actualUserAgent","global","navigator","process","env","NODE_ENV","console","warn","prefix","prefixedKeyframes","getPrefixedKeyframes","getPrefixedStyle","styleWithFallbacks","prefixer","prefixedStyle","flattenedStyle"],"mappings":"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","sourcesContent":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * Based on https://github.com/jsstyles/css-vendor, but without having to\n * convert between different cases all the time.\n *\n * \n */\nimport createStaticPrefixer from 'inline-style-prefixer/static/createPrefixer';\nimport createDynamicPrefixer from 'inline-style-prefixer/dynamic/createPrefixer';\nimport ExecutionEnvironment from 'exenv';\nimport staticData from './prefix-data/static';\nimport dynamicData from './prefix-data/dynamic';\nimport { camelCaseToDashCase } from './camel-case-props-to-dash-case';\nvar prefixAll = createStaticPrefixer(staticData);\nvar InlineStylePrefixer = createDynamicPrefixer(dynamicData, prefixAll);\n\nfunction transformValues(style) {\n  return Object.keys(style).reduce(function (newStyle, key) {\n    var value = style[key];\n\n    if (Array.isArray(value)) {\n      value = value.join(';' + key + ':');\n    } else if (value && _typeof(value) === 'object' && typeof value.toString === 'function') {\n      value = value.toString();\n    }\n\n    newStyle[key] = value;\n    return newStyle;\n  }, {});\n} // Flatten prefixed values that are arrays to strings.\n//\n// We get prefixed styles back in the form of:\n// - `display: \"flex\"` OR\n// - `display: \"-webkit-flex\"` OR\n// - `display: [/* ... */, \"-webkit-flex\", \"flex\"]\n//\n// The last form is problematic for eventual use in the browser and server\n// render. More confusingly, we have to do **different** things on the\n// browser and server (noted inline below).\n//\n// https://github.com/FormidableLabs/radium/issues/958\n\n\nfunction flattenStyleValues(style) {\n  return Object.keys(style).reduce(function (newStyle, key) {\n    var val = style[key];\n\n    if (Array.isArray(val)) {\n      if (ExecutionEnvironment.canUseDOM) {\n        // For the **browser**, when faced with multiple values, we just take\n        // the **last** one, which is the original passed in value before\n        // prefixing. This _should_ work, because `inline-style-prefixer`\n        // we're just passing through what would happen without ISP.\n        val = val[val.length - 1].toString();\n      } else {\n        // For the **server**, we just concatenate things together and convert\n        // the style object values into a hacked-up string of like `display:\n        // \"-webkit-flex;display:flex\"` that will SSR render correctly to like\n        // `\"display:-webkit-flex;display:flex\"` but would otherwise be\n        // totally invalid values.\n        // We convert keys to dash-case only for the serialize values and\n        // leave the real key camel-cased so it's as expected to React and\n        // other parts of the processing chain.\n        val = val.join(\";\".concat(camelCaseToDashCase(key), \":\"));\n      }\n    }\n\n    newStyle[key] = val;\n    return newStyle;\n  }, {});\n}\n\nvar _hasWarnedAboutUserAgent = false;\n\nvar _lastUserAgent;\n\nvar _cachedPrefixer;\n\nfunction getPrefixer(userAgent) {\n  var actualUserAgent = userAgent || global && global.navigator && global.navigator.userAgent;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (!actualUserAgent && !_hasWarnedAboutUserAgent) {\n      /* eslint-disable no-console */\n      console.warn('Radium: userAgent should be supplied for server-side rendering. See ' + 'https://github.com/FormidableLabs/radium/tree/master/docs/api#radium ' + 'for more information.');\n      /* eslint-enable no-console */\n\n      _hasWarnedAboutUserAgent = true;\n    }\n  }\n\n  if (process.env.NODE_ENV === 'test' || !_cachedPrefixer || actualUserAgent !== _lastUserAgent) {\n    if (actualUserAgent === 'all') {\n      _cachedPrefixer = {\n        prefix: prefixAll,\n        prefixedKeyframes: 'keyframes'\n      };\n    } else {\n      _cachedPrefixer = new InlineStylePrefixer({\n        userAgent: actualUserAgent\n      });\n    }\n\n    _lastUserAgent = actualUserAgent;\n  }\n\n  return _cachedPrefixer;\n}\n\nexport function getPrefixedKeyframes(userAgent) {\n  return getPrefixer(userAgent).prefixedKeyframes || 'keyframes';\n} // Returns a new style object with vendor prefixes added to property names and\n// values.\n\nexport function getPrefixedStyle(style, userAgent) {\n  var styleWithFallbacks = transformValues(style);\n  var prefixer = getPrefixer(userAgent);\n  var prefixedStyle = prefixer.prefix(styleWithFallbacks);\n  var flattenedStyle = flattenStyleValues(prefixedStyle);\n  return flattenedStyle;\n}"]},"metadata":{},"sourceType":"module"}