{"ast":null,"code":"var _jsxFileName = \"C:\\\\My\\\\Programesoft\\\\Javascript\\\\bookshop\\\\src\\\\screens\\\\Library\\\\components\\\\BookShelf.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect, useRef, createContext, useMemo } from \"react\";\nimport Delete from \"../../../assets/images/delete.png\";\nimport ArrowUpward from \"../../../assets/images/arrowUpward.png\";\nimport ArrowDownward from \"../../../assets/images/arrowDownward.png\";\nimport Plus from \"../../../assets/images/plus.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BookShelf = _ref => {\n  _s();\n\n  let {\n    title,\n    setLibraries,\n    ind,\n    setAddingBook,\n    addingBook\n  } = _ref;\n  const [showHiddenBooks, setShowHiddenBooks] = useState(false);\n\n  const deleteHandler = () => {\n    if (window.confirm(`Are you sure you want to delete ${title} library`)) {\n      setLibraries(curr => curr.filter((_, i) => i != ind));\n    }\n  };\n\n  const addHandler = () => {\n    if (addingBook.active) return;\n    setAddingBook(curr => ({ ...curr,\n      active: true,\n      bookShelfIndex: ind\n    }));\n  };\n\n  const bookCards = useMemo(() => {\n    const results = favoriteBooks.filter(elem => {\n      if (!elem.libraries.length) return false;\n\n      for (let i = 0; i < elem.libraries.length; i++) {\n        if (elem.libraries[i] == title) return true;\n      }\n    });\n    return results;\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"library__line\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"library__top beet\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"library__title title\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button black library__button addBooks\",\n        onClick: addHandler,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"beet\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: Plus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Add books\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"library__bookShelf grid\",\n      children: bookCards\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"library__buttons beet\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button black library__button addBooks screen-top\",\n        onClick: deleteHandler,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"beet\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: Delete\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Delete library\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button library__button addBooks screen-top \" + (showHiddenBooks ? \"green\" : \"blue\"),\n        onClick: () => setShowHiddenBooks(curr => !curr),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"beet\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: showHiddenBooks ? ArrowUpward : ArrowDownward\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Show \", showHiddenBooks ? \"less\" : \"more\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BookShelf, \"Na3xY69gollKkQiOPMy+h755neQ=\");\n\n_c = BookShelf;\nexport default BookShelf;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookShelf\");","map":{"version":3,"sources":["C:/My/Programesoft/Javascript/bookshop/src/screens/Library/components/BookShelf.js"],"names":["React","useState","useContext","useEffect","useRef","createContext","useMemo","Delete","ArrowUpward","ArrowDownward","Plus","BookShelf","title","setLibraries","ind","setAddingBook","addingBook","showHiddenBooks","setShowHiddenBooks","deleteHandler","window","confirm","curr","filter","_","i","addHandler","active","bookShelfIndex","bookCards","results","favoriteBooks","elem","libraries","length"],"mappings":"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","sourcesContent":["import React, {\r\n  useState,\r\n  useContext,\r\n  useEffect,\r\n  useRef,\r\n  createContext,\r\n  useMemo,\r\n} from \"react\";\r\nimport Delete from \"../../../assets/images/delete.png\";\r\nimport ArrowUpward from \"../../../assets/images/arrowUpward.png\";\r\nimport ArrowDownward from \"../../../assets/images/arrowDownward.png\";\r\nimport Plus from \"../../../assets/images/plus.png\";\r\nconst BookShelf = ({ title,setLibraries,ind,setAddingBook,addingBook }) => {\r\n\tconst [showHiddenBooks,setShowHiddenBooks]=useState(false);\r\n\tconst deleteHandler=()=>{\r\n    if (window.confirm(`Are you sure you want to delete ${title} library`)) {\r\n      setLibraries(curr=>curr.filter((_,i)=>i!=ind))\r\n    }\r\n\t}\r\n\tconst addHandler=()=>{\r\n\t\tif (addingBook.active) return;\r\n\t\tsetAddingBook(curr=>({...curr,active:true,bookShelfIndex:ind}))\r\n\t}\r\n\tconst bookCards=useMemo(()=>{\r\n\r\n\t\tconst results=favoriteBooks.filter((elem)=>{\r\n\t\t\tif (!elem.libraries.length) return false;\r\n\t\t\tfor (let i=0;i<elem.libraries.length;i++) {\r\n\t\t\t\tif (elem.libraries[i]==title) return true;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn results;\r\n\t},[])\r\n  return (\r\n    <div className=\"library__line\">\r\n      <div className=\"library__top beet\">\r\n        <p className=\"library__title title\">{title}</p>\r\n        <div className=\"button black library__button addBooks\" onClick={addHandler}>\r\n          <div className=\"beet\">\r\n            <img src={Plus} />\r\n            <p>Add books</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"library__bookShelf grid\">{bookCards}</div>\r\n      <div className=\"library__buttons beet\">\r\n        <div className=\"button black library__button addBooks screen-top\" onClick={deleteHandler}>\r\n          <div className=\"beet\">\r\n            <img src={Delete} />\r\n            <p>Delete library</p>\r\n          </div>\r\n        </div>\r\n\t\t\t\t<div className={\"button library__button addBooks screen-top \"+(showHiddenBooks ? \"green\" : \"blue\")} onClick={()=>setShowHiddenBooks(curr=>!curr)}>\r\n          <div className=\"beet\">\r\n            <img src={showHiddenBooks ? ArrowUpward : ArrowDownward} />\r\n            <p>Show {showHiddenBooks ? \"less\" : \"more\"}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default BookShelf;"]},"metadata":{},"sourceType":"module"}