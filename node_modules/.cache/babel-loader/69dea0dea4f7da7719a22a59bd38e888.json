{"ast":null,"code":"var _jsxFileName = \"C:\\\\My\\\\Programesoft\\\\Javascript\\\\bookshop\\\\src\\\\globalComponents\\\\BookCard.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState, useMemo } from \"react\";\nimport NotSelected from \"../assets/images/favourite.png\";\nimport Selected from \"../assets/images/favouriteActive.png\";\nimport compare from \"../functions/compare\";\nimport Eye from \"../assets/images/eye.png\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Book = _ref => {\n  _s();\n\n  let {\n    data,\n    mode\n  } = _ref;\n  const isInFavorites = useMemo(() => {\n    const favoriteBooks = JSON.parse(localStorage.getItem(\"favoriteBooks\"));\n\n    for (let i = 0; i < favoriteBooks.length; i++) {\n      if (compare(favoriteBooks[i], data)) return true;\n    }\n\n    return false;\n  }, []);\n  const [liked, setLiked] = useState(isInFavorites);\n\n  const getStars = amount => {\n    const mass = [],\n          roundNumber = Math.floor(amount);\n\n    for (let i = 0; i < roundNumber; i++) {\n      mass.push(starFilled);\n    }\n\n    if (amount != roundNumber) mass.push(starHalfFilled);\n    const length = mass.length;\n\n    for (let i = 0; i < 5 - length; i++) {\n      mass.push(starEmpty);\n    }\n\n    return mass;\n  };\n\n  const returnBook = () => {\n    const title = /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"book__title\",\n      children: data.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 15\n    }, this),\n          stars = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"book__stars\",\n      children: getStars(data.rating)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this);\n\n    if (mode == \"normal\") return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"book beet2 book__align\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"book__imageBlock\",\n        children: [/*#__PURE__*/_jsxDEV(ShowPreview, {\n          data: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Image, {\n          image: data.image,\n          style: \"book__imageBig\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Hearth, {\n          liked,\n          setLiked,\n          data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 4\n      }, this), title, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"book__container beet\",\n        children: [stars, /*#__PURE__*/_jsxDEV(Authors, {\n          authors: data.authors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        data: data,\n        style: \"book__normalButton\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 31\n    }, this);else if (mode == \"large\") return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"book beet\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"book__largeBlock\",\n        children: [/*#__PURE__*/_jsxDEV(ShowPreview, {\n          data: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Image, {\n          image: data.image,\n          style: \"book__imageSmall\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Hearth, {\n          liked,\n          setLiked,\n          data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"book__largeContainer\",\n        children: [title, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"book__mass beet\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"beet\",\n            children: [stars, /*#__PURE__*/_jsxDEV(Authors, {\n              authors: data.authors\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            style: \"book__largeButton\",\n            data: data\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"book__description\",\n          children: data.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 34\n    }, this);else return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"book beet2\",\n      children: [/*#__PURE__*/_jsxDEV(Image, {\n        image: data.image,\n        style: \"book__imageSmall\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 4\n      }, this), title]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }, this);\n  };\n\n  return returnBook();\n};\n\n_s(Book, \"nbQ/Sc+KuHyLpkPA9XV7XhmllzA=\");\n\n_c = Book;\nexport default Book;\n\nconst Button = _ref2 => {\n  let {\n    data,\n    style\n  } = _ref2;\n  return /*#__PURE__*/_jsxDEV(\"a\", {\n    className: \"button \" + style,\n    href: data.link,\n    target: \"_blank\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [data.canBeBought ? `Buy` : \"Read\", \" for \", /*#__PURE__*/_jsxDEV(\"span\", {\n        children: data.canBeBought ? data.listPrice : \"free\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 47\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 30\n  }, this);\n};\n\n_c2 = Button;\n\nconst Hearth = _ref3 => {\n  let {\n    liked,\n    setLiked,\n    data\n  } = _ref3;\n\n  const clickHandler = () => {\n    const favoriteBooks = JSON.parse(localStorage.getItem(\"favoriteBooks\"));\n    if (!liked) favoriteBooks.push(data);else {\n      let index;\n      favoriteBooks.forEach((elem, ind) => {\n        if (compare(elem, data)) index = ind;\n      });\n      favoriteBooks.splice(index, 1);\n    }\n    setLiked(curr => !curr);\n    localStorage.setItem(\"favoriteBooks\", JSON.stringify(favoriteBooks));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"img\", {\n    className: \"book__hearth\",\n    src: liked ? Selected : NotSelected,\n    onClick: clickHandler\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 10\n  }, this);\n};\n\n_c3 = Hearth;\n\nconst Authors = _ref4 => {\n  _s2();\n\n  let {\n    authors\n  } = _ref4;\n  const [show, setShow] = useState(false);\n\n  const leaveHandler = () => {\n    setTimeout(() => {\n      setShow(false);\n    }, 2000);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"book__relative\",\n    children: [show && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"book__hiddenAuthors\",\n      children: authors\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"book__author\",\n      onMouseEnter: () => setShow(true),\n      onMouseLeave: leaveHandler,\n      children: authors\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 3\n  }, this);\n};\n\n_s2(Authors, \"1zorjk0U13HbtxzgkTnbkLomxww=\");\n\n_c4 = Authors;\n\nconst Image = _ref5 => {\n  let {\n    image,\n    style\n  } = _ref5;\n  return /*#__PURE__*/_jsxDEV(\"img\", {\n    src: image,\n    className: style\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 2\n  }, this);\n};\n\n_c5 = Image;\n\nconst ShowPreview = _ref6 => {\n  _s3();\n\n  let {\n    data\n  } = _ref6;\n  const navigate = useNavigate();\n\n  const clickHandler = () => {\n    navigate(\"/preview\", {\n      state: data\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"img\", {\n    src: Eye,\n    className: \"book__eye\",\n    onClick: clickHandler\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 9\n  }, this);\n};\n\n_s3(ShowPreview, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n\n_c6 = ShowPreview;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Book\");\n$RefreshReg$(_c2, \"Button\");\n$RefreshReg$(_c3, \"Hearth\");\n$RefreshReg$(_c4, \"Authors\");\n$RefreshReg$(_c5, \"Image\");\n$RefreshReg$(_c6, \"ShowPreview\");","map":{"version":3,"sources":["C:/My/Programesoft/Javascript/bookshop/src/globalComponents/BookCard.js"],"names":["React","useCallback","useEffect","useState","useMemo","NotSelected","Selected","compare","Eye","useNavigate","Book","data","mode","isInFavorites","favoriteBooks","JSON","parse","localStorage","getItem","i","length","liked","setLiked","getStars","amount","mass","roundNumber","Math","floor","push","starFilled","starHalfFilled","starEmpty","returnBook","title","stars","rating","image","authors","description","Button","style","link","canBeBought","listPrice","Hearth","clickHandler","index","forEach","elem","ind","splice","curr","setItem","stringify","Authors","show","setShow","leaveHandler","setTimeout","Image","ShowPreview","navigate","state"],"mappings":"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","sourcesContent":["import React,{useCallback, useEffect, useState,useMemo} from \"react\";\r\nimport NotSelected from \"../assets/images/favourite.png\";\r\nimport Selected from \"../assets/images/favouriteActive.png\";\r\nimport compare from \"../functions/compare\";\r\nimport Eye from \"../assets/images/eye.png\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nconst Book=({data,mode})=>{\r\n\tconst isInFavorites=useMemo(()=>{\r\n\t\tconst favoriteBooks=JSON.parse(localStorage.getItem(\"favoriteBooks\"));\r\n\t\tfor (let i=0;i<favoriteBooks.length;i++) {\r\n\t\t\tif (compare(favoriteBooks[i],data)) return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},[]);\r\n\tconst [liked,setLiked]=useState(isInFavorites);\r\n\tconst getStars=(amount)=>{\r\n\t\t\tconst mass=[] , roundNumber=Math.floor(amount);\r\n\t\t\tfor (let i=0;i<roundNumber;i++) {\r\n\t\t\t\tmass.push(starFilled)\r\n\t\t\t}\r\n\t\t\tif (amount!=roundNumber) mass.push(starHalfFilled);\r\n\t\t\tconst length=mass.length;\r\n\t\t\tfor (let i=0;i<5-length;i++) {\r\n\t\t\t\tmass.push(starEmpty)\r\n\t\t\t}\r\n\t\t\treturn mass;\r\n\t}\r\n\tconst returnBook=()=>{\r\n\t\tconst title=<p className=\"book__title\">{data.title}</p>,\r\n\t\tstars=<div className=\"book__stars\">{getStars(data.rating)}</div>;\r\n\t\tif (mode==\"normal\") return (<div className=\"book beet2 book__align\">\r\n\t\t\t<div className=\"book__imageBlock\">\r\n\t\t\t\t<ShowPreview data={data}/>\r\n\t\t\t\t<Image image={data.image} style=\"book__imageBig\"/>\r\n\t\t\t\t<Hearth {...{liked,setLiked,data}}/>\r\n\t\t\t</div>\r\n\t\t\t{title}\r\n\t\t\t<div className=\"book__container beet\">\r\n\t\t\t\t{stars}\r\n\t\t\t\t<Authors authors={data.authors}/>\r\n\t\t\t</div>\r\n\t\t\t<Button data={data} style=\"book__normalButton\"/>\r\n\t\t</div>);\r\n\r\n\t\telse if (mode==\"large\") return <div className=\"book beet\">\r\n\t\t<div className=\"book__largeBlock\">\r\n\t\t\t\t<ShowPreview data={data}/>\r\n\t\t\t\t<Image image={data.image} style=\"book__imageSmall\"/>\r\n\t\t\t\t<Hearth {...{liked,setLiked,data}}/>\r\n\t\t</div>\r\n\t\t\t<div className=\"book__largeContainer\">\r\n\t\t\t\t{title}\r\n\t\t\t\t<div className=\"book__mass beet\">\r\n\t\t\t\t\t<div className=\"beet\">\r\n\t\t\t\t\t\t{stars}\r\n\t\t\t\t\t\t<Authors authors={data.authors}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Button style=\"book__largeButton\" data={data}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p className=\"book__description\">{data.description}</p>\r\n\t\t\t</div>\r\n\t\t</div>;\r\n\r\n\t\telse return <div className=\"book beet2\">\r\n\t\t\t<Image image={data.image} style=\"book__imageSmall\"/>\r\n\t\t\t{title}\r\n\t\t</div>;\r\n\t}\r\n\treturn returnBook();\r\n};\r\nexport default Book;\r\nconst Button=({data,style})=><a className={\"button \"+style} href={data.link} target=\"_blank\">\r\n\t\t\t<p>{data.canBeBought ? `Buy` : \"Read\"} for <span>{data.canBeBought ? data.listPrice : \"free\"}</span></p>\r\n</a>;\r\nconst Hearth=({liked,setLiked,data})=>{\r\n\tconst clickHandler=()=>{\r\n\t\tconst favoriteBooks=JSON.parse(localStorage.getItem(\"favoriteBooks\"));\r\n\t\tif (!liked) favoriteBooks.push(data);\r\n\t\telse {\r\n\t\t\tlet index;\r\n\t\t\tfavoriteBooks.forEach((elem,ind) => {\r\n\t\t\t\tif (compare(elem,data)) index=ind;\r\n\t\t\t});\r\n\t\t\tfavoriteBooks.splice(index,1);\r\n\t\t}\r\n\t\tsetLiked(curr=>!curr);\r\n\t\tlocalStorage.setItem(\"favoriteBooks\",JSON.stringify(favoriteBooks));\r\n\t}\r\n\treturn (<img className=\"book__hearth\" src={liked ? Selected : NotSelected} onClick={clickHandler}/>)\r\n}\r\nconst Authors=({authors})=>{\r\n\tconst [show,setShow]=useState(false);\r\n\tconst leaveHandler=()=>{\r\n\t\tsetTimeout(()=>{\r\n\t\t\tsetShow(false)\r\n\t\t},2000)\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"book__relative\">\r\n\t\t{show && <p className=\"book__hiddenAuthors\">{authors}</p>}\r\n\t\t\t<p className=\"book__author\" onMouseEnter={()=>setShow(true)} onMouseLeave={leaveHandler}>{authors}</p>\r\n\t\t</div>\r\n\t)\r\n}\r\nconst Image=({image,style})=>(\r\n\t<img src={image} className={style}/>\r\n)\r\nconst ShowPreview=({data})=>{\r\n\tconst navigate = useNavigate();\r\n\tconst clickHandler=()=>{\r\n\t\tnavigate(\"/preview\",{state:data})\r\n\t}\r\n\treturn <img src={Eye} className=\"book__eye\" onClick={clickHandler}/>\r\n}"]},"metadata":{},"sourceType":"module"}