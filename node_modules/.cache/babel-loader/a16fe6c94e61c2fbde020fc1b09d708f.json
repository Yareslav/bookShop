{"ast":null,"code":"var _jsxFileName = \"C:\\\\My\\\\Programesoft\\\\Javascript\\\\bookshop\\\\src\\\\globalComponents\\\\BookCard.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport NotSelected from \"../assets/images/favourite.png\";\nimport Selected from \"../assets/images/favouriteActive.png\";\nimport compare from \"../functions/compare\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Book = _ref => {\n  _s();\n\n  let {\n    data,\n    mode\n  } = _ref;\n  const [liked, setLiked] = useState(false);\n\n  const returnBook = () => {\n    const image = /*#__PURE__*/_jsxDEV(\"img\", {\n      src: data.image,\n      className: \"book__image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 15\n    }, this),\n          title = /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"book__title\",\n      children: data.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 9\n    }, this),\n          stars = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"book__stars\",\n      children: data.ratingStarsArray.map(elem => /*#__PURE__*/_jsxDEV(\"img\", {\n        src: elem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 71\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 9\n    }, this);\n\n    if (mode == \"normal\") return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"book beet2 book__align\",\n      style: {\n        width: 235\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"book__imageBlock\",\n        children: [image, /*#__PURE__*/_jsxDEV(Hearth, {\n          liked,\n          setLiked,\n          data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 4\n      }, this), title, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"book__container beet\",\n        children: [stars, /*#__PURE__*/_jsxDEV(Authors, {\n          data: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        data: data,\n        style: \"book__normalButton\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 31\n    }, this); // else if (mode==\"large\") return <div className=\"book beet\">\n    // \t{image}\n    // \t<div className=\"book__largeContainer\"></div>\n    // </div>;\n    else return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"book\",\n      children: [image, title]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 15\n    }, this);\n  };\n\n  return returnBook();\n};\n\n_s(Book, \"+Q46GCDcpv8s+PEWLxLIEKMV1Jo=\");\n\n_c = Book;\nexport default Book;\n\nconst Button = _ref2 => {\n  let {\n    data,\n    style\n  } = _ref2;\n  return /*#__PURE__*/_jsxDEV(\"a\", {\n    className: \"button \" + style,\n    href: data.link,\n    target: \"_blank\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [data.canBeBought ? `Buy` : \"Read\", \" for \", /*#__PURE__*/_jsxDEV(\"span\", {\n        children: data.canBeBought ? data.listPrice : \"free\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 47\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 30\n  }, this);\n};\n\n_c2 = Button;\n\nconst Hearth = _ref3 => {\n  let {\n    liked,\n    setLiked,\n    data\n  } = _ref3;\n\n  const clickHandler = () => {\n    let mass = JSON.parse(localStorage.getItem(\"favoriteBooks\"));\n    if (!liked) mass.push(data);else {\n      let index;\n      mass.forEach((elem, ind) => {\n        if (compare(elem, data)) index = ind;\n      });\n      mass.splice(index, 1);\n    }\n    setLiked(curr => !curr);\n    localStorage.setItem(\"favoriteBooks\", JSON.stringify(mass));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"img\", {\n    className: \"book__hearth\",\n    src: liked ? Selected : NotSelected,\n    onClick: clickHandler\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 10\n  }, this);\n};\n\n_c3 = Hearth;\n\nconst Authors = _ref4 => {\n  _s2();\n\n  let {\n    data: {\n      authors\n    }\n  } = _ref4;\n  const [show, setShow] = useState(false);\n\n  const leaveHandler = () => {\n    setTimeout(() => {\n      setShow(false);\n    }, 2000);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"book__relative\",\n    children: [show && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"book__hiddenAuthors\",\n      children: authors\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"book__author\",\n      onMouseEnter: () => setShow(true),\n      onMouseLeave: leaveHandler,\n      children: authors\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 3\n  }, this);\n};\n\n_s2(Authors, \"1zorjk0U13HbtxzgkTnbkLomxww=\");\n\n_c4 = Authors;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Book\");\n$RefreshReg$(_c2, \"Button\");\n$RefreshReg$(_c3, \"Hearth\");\n$RefreshReg$(_c4, \"Authors\");","map":{"version":3,"sources":["C:/My/Programesoft/Javascript/bookshop/src/globalComponents/BookCard.js"],"names":["React","useEffect","useState","NotSelected","Selected","compare","Book","data","mode","liked","setLiked","returnBook","image","title","stars","ratingStarsArray","map","elem","width","Button","style","link","canBeBought","listPrice","Hearth","clickHandler","mass","JSON","parse","localStorage","getItem","push","index","forEach","ind","splice","curr","setItem","stringify","Authors","authors","show","setShow","leaveHandler","setTimeout"],"mappings":"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","sourcesContent":["import React,{useEffect, useState} from \"react\";\r\nimport NotSelected from \"../assets/images/favourite.png\";\r\nimport Selected from \"../assets/images/favouriteActive.png\";\r\nimport compare from \"../functions/compare\";\r\nconst Book=({data,mode})=>{\r\n\tconst [liked,setLiked]=useState(false);\r\n\tconst returnBook=()=>{\r\n\t\tconst image=<img src={data.image} className=\"book__image\"/>,\r\n\t\ttitle=<p className=\"book__title\">{data.title}</p>,\r\n\t\tstars=<div className=\"book__stars\">{data.ratingStarsArray.map(elem=><img src={elem}/>)}</div>;\r\n\r\n\t\tif (mode==\"normal\") return (<div className=\"book beet2 book__align\" style={{width:235}}>\r\n\t\t\t<div className=\"book__imageBlock\">\r\n\t\t\t\t{image}\r\n\t\t\t\t<Hearth {...{liked,setLiked,data}}/>\r\n\t\t\t</div>\r\n\t\t\t{title}\r\n\t\t\t<div className=\"book__container beet\">\r\n\t\t\t\t{stars}\r\n\t\t\t\t<Authors data={data}/>\r\n\t\t\t</div>\r\n\t\t\t<Button data={data} style=\"book__normalButton\"/>\r\n\t\t</div>);\r\n\r\n\t\t// else if (mode==\"large\") return <div className=\"book beet\">\r\n\t\t// \t{image}\r\n\t\t// \t<div className=\"book__largeContainer\"></div>\r\n\t\t// </div>;\r\n\r\n\t\telse return <div className=\"book\">\r\n\t\t\t{image}\r\n\t\t\t{title}\r\n\t\t</div>;\r\n\t}\r\n\treturn returnBook()\r\n};\r\nexport default Book;\r\nconst Button=({data,style})=><a className={\"button \"+style} href={data.link} target=\"_blank\">\r\n\t\t\t<p>{data.canBeBought ? `Buy` : \"Read\"} for <span>{data.canBeBought ? data.listPrice : \"free\"}</span></p>\r\n</a>;\r\nconst Hearth=({liked,setLiked,data})=>{\r\n\tconst clickHandler=()=>{\r\n\t\tlet mass=JSON.parse(localStorage.getItem(\"favoriteBooks\"));\r\n\t\tif (!liked) mass.push(data);\r\n\t\telse {\r\n\t\t\tlet index;\r\n\t\t\tmass.forEach((elem,ind) => {\r\n\t\t\t\tif (compare(elem,data)) index=ind;\r\n\t\t\t});\r\n\t\t\tmass.splice(index,1);\r\n\t\t}\r\n\t\tsetLiked(curr=>!curr);\r\n\t\tlocalStorage.setItem(\"favoriteBooks\",JSON.stringify(mass));\r\n\t}\r\n\treturn (<img className=\"book__hearth\" src={liked ? Selected : NotSelected} onClick={clickHandler}/>)\r\n}\r\nconst Authors=({data:{authors}})=>{\r\n\tconst [show,setShow]=useState(false);\r\n\tconst leaveHandler=()=>{\r\n\t\tsetTimeout(()=>{\r\n\t\t\tsetShow(false)\r\n\t\t},2000)\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"book__relative\">\r\n\t\t{show && <p className=\"book__hiddenAuthors\">{authors}</p>}\r\n\t\t\t<p className=\"book__author\" onMouseEnter={()=>setShow(true)} onMouseLeave={leaveHandler}>{authors}</p>\r\n\t\t</div>\r\n\t)\r\n}"]},"metadata":{},"sourceType":"module"}